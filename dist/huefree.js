!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.huefree=t():e.huefree=t()}(this,(()=>{return e={689:(e,t,n)=>{const{stringToRgb:r,rgbToString:o,linearize:i,deLinearize:a,colorTransform:s}=n(941),{getVisions:l,getVisionDetail:c,changeVision:u,changeVisionRecursive:d,getCustomVisions:p}=n(650);e.exports={stringToRgb:r,rgbToString:o,linearize:i,deLinearize:a,colorTransform:s,getVisions:l,getVisionDetail:c,changeVision:u,changeVisionRecursive:d,getCustomVisions:p}},941:e=>{function t(e){let t,n=e.search(/rgba?\(\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)(?:\s*,\s*(-?\d+(?:\.\d+)?))?\s*\)/);if(-1==n)return;if("a"==e[n+3])t=n+5;else{if("("!=e[n+3])return;t=n+4}let r=e.substring(t,e.length-1);r=r.split(/\s*,\s*/);for(let e=0;e<r.length;++e)r[e]=parseFloat(r[e]);return r}e.exports={stringToRgb:t,rgbToString:function(e){let t="rgb(";if(4===e.length)t="rgba(",t+=e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";else{if(3!==e.length)return e;t+=e[0]+", "+e[1]+", "+e[2]+")"}return t},linearize:function(e){let n=e;if("string"==typeof n&&(n=t(n)),!n)return;let r=n;for(let e=0;e<3;++e){let t=n[e]/255;if(t<=.04045){const n=12.92;r[e]=t/n}else{const n=.055;r[e]=Math.pow((t+n)/(1+n),2.4)}}return r},deLinearize:function(e){let n=e;if("string"==typeof n&&(n=t(n)),!n)return;let r=n;for(let e=0;e<3;++e){let t=n[e];if(t<=.0031308){const n=12.92;r[e]=255*n*t}else{const n=.055;r[e]=255*((1+n)*Math.pow(t,1/2.4)-n)}}return r},colorTransform:function(e,t){let n=[...t];for(let r=0;r<e.length;++r){let o=e[r][0]*t[0]+e[r][1]*t[1]+e[r][2]*t[2];n[r]=o}return n}}},650:(e,t,n)=>{const r=n(853),o=n(941);function i(e,t,n=r){if(!n[t])return;let a=/rgba?\(\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)(?:\s*,\s*(-?\d+(?:\.\d+)?))?\s*\)/;if("string"==typeof e){if(-1===e.search(a))return e;if(n[t].useMap){let r=n[t].mapColor(o.stringToRgb(e));return r=o.rgbToString(r),r=e.replace(a,r),r}{let r=o.linearize(e),i=n[t].transMatrix,s=o.colorTransform(i,r),l=o.deLinearize(s);return l=o.rgbToString(l),l=e.replace(a,l),l}}if("undefined"!=typeof Element&&e instanceof Element){if("img"===e.tagName.toLowerCase())if(n[t].useMap){if(!e.complete)return void e.addEventListener("load",(function r(){i(e,t,n),e.removeEventListener("load",r)}));!function(e,t,n=r){var a=e.cloneNode(!0),s=document.createElement("canvas"),l=s.getContext("2d");s.width=e.width,s.height=e.height,l.drawImage(a,0,0,e.width,e.height);try{for(var c=l.getImageData(0,0,s.width,s.height),u=c.data,d=0;d<u.length;d+=4){let e=[u[d],u[d+1],u[d+2],u[d+3]];e=o.rgbToString(e),e=i(e,t,n),e=o.stringToRgb(e),u[d]=e[0],u[d+1]=e[1],u[d+2]=e[2],u[d+3]=e[3]}return l.putImageData(c,0,0),e.src=s.toDataURL(),e}catch(e){return console.error("Error processing image:",e.message),null}}(e,t,n)}else!function(e,t,n=r){if(!n[t])return;let o=(new Date).getTime(),i="_$svgIdTemp_"+o,a="_$filterIdTemp_"+o;let s=`\n            ${(c=n[t].transMatrix)[0][0]} ${c[0][1]} ${c[0][2]} 0 0\n            ${c[1][0]} ${c[1][1]} ${c[1][2]} 0 0\n            ${c[2][0]} ${c[2][1]} ${c[2][2]} 0 0\n            0 0 0 1 0        \n        `,l=document.createElementNS("http://www.w3.org/2000/svg","svg");var c;l.setAttribute("id",i),l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("width","0"),l.setAttribute("height","0");let u=document.createElementNS("http://www.w3.org/2000/svg","filter");u.setAttribute("id",a);let d=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");d.setAttribute("type","matrix"),d.setAttribute("values",s),u.appendChild(d),l.appendChild(u),document.body.appendChild(l),e.complete?e.style.filter="url(#"+a+")":e.addEventListener("load",(function t(){e.style.filter="url(#"+a+")",e.removeEventListener("load",t)}))}(e,t,n);let s=window.getComputedStyle(e),l=s.length,c=[];for(let e=0;e<l;++e){let t=s[e],n=s[t];-1!=n.search(a)&&c.push([t,n])}for(let r of c){let o=r[0],a=i(r[1],t,n);e.style[o]=a}return e}}e.exports={getVisions:function(e=r){return Object.keys(e)},getVisionDetail:function(e,t=r){return t[e]},changeVision:i,changeVisionRecursive:function(e,t,n=r){if(!n[t])return;let o=/rgba?\(\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)(?:\s*,\s*(-?\d+(?:\.\d+)?))?\s*\)/;if("undefined"!=typeof Element&&e instanceof Element){let r=new Map,a=[e];for(;a.length>0;){let e=a.shift();if(e.nodeType===Node.ELEMENT_NODE){let t=window.getComputedStyle(e),n=t.length,i=[];for(let e=0;e<n;++e){let n=t[e],r=t[n];-1!=r.search(o)&&i.push([n,r])}r.set(e,i)}e.childNodes.forEach((e=>a.push(e)))}r.forEach((function(e,r){if("img"!==r.tagName.toLowerCase())for(let o of e){let e=o[0],a=i(o[1],t,n);r.style[e]=a}else i(r,t,n)}))}else if("string"==typeof e)return i(e,t,n);return e},getCustomVisions:function(){let e={};for(let t=0;t<arguments.length;++t){let n={description:null,transMatrix:null,useMap:!1,colorMap:null};e[arguments[t]]=n}return e.addVisions=function(){for(let t=0;t<arguments.length;++t){let n={description:null,transMatrix:null,useMap:!1,colorMap:null};e[arguments[t]]=n}},e.removeVisions=function(){for(let t=0;t<arguments.length;++t)delete e[arguments[t]]},e}}},853:e=>{const t=Object.freeze({normal:Object.freeze({description:"Normal color vision uses all three types of cone cells which are functioning correctly. Another term for normal color vision is trichromacy. People with normal color vision are known as trichromats.\nSource: https://www.colourblindawareness.org/colour-blindness/types-of-colour-blindness",transMatrix:[[1,0,0],[0,1,0],[0,0,1]],useMap:!1,mapColor:null}),protanopia:Object.freeze({description:"Blindness to red is known as protanopia, a state in which the red cones are absent, leaving only the cones that absorb blue and green light.\nSource: https://www.britannica.com/science/color-blindness",transMatrix:[[.170556992,.829443014,0],[.170556991,.829443008,0],[-.004517144,.004517144,1]],useMap:!1,mapColor:null}),deuteranopia:Object.freeze({description:"Blindness to green is known as deuteranopia, wherein green cones are lacking and blue and red cones are functional.\nSource: https://www.britannica.com/science/color-blindness",transMatrix:[[.33066007,.66933993,0],[.33066007,.66933993,0],[-.02785538,.02785538,1]],useMap:!1,mapColor:null}),tritanopia:Object.freeze({description:"Tritanopia is a condition where a person cannot distinguish between blue and yellow colors. Impaired blue and yellow vision is the main symptom that is associated with this condition.\nSource: https://colormax.org/tritanopia",transMatrix:[[1,.1273989,-.1273989],[0,.8739093,.1260907],[0,.8739093,.1260907]],useMap:!1,mapColor:null}),protanomaly:Object.freeze({description:"Protanomaly is referred to as “red-weakness”, an apt description of this form of color deficiency. Red, orange, yellow, and yellow-green appear somewhat shifted in hue (“hue” is just another word for “color”) towards green, and all appear paler than they do to the normal observer.\nSource: http://www.colorvisiontesting.com/color2.htm",transMatrix:[[.458064,.679578,-.137642],[.092785,.846313,.060902],[-.007494,-.016807,1.024301]],useMap:!1,mapColor:null}),deuteranomaly:Object.freeze({description:"The deuteranomalous person is considered “green weak”. The person is poor at discriminating small differences in hues in the red, orange, yellow, green region of the spectrum.\nSource: http://www.colorvisiontesting.com/color2.htm",transMatrix:[[.547494,.607765,-.155259],[.181692,.781742,.036566],[-.01041,.027275,.983136]],useMap:!1,mapColor:null}),tritanomaly:Object.freeze({description:"Tritanomaly is an alleviated form of blue-yellow color blindness. It affects blue-green and yellow-red/pink color discrimination. Reds are easily distinguished and not altered by tritanomaly.\nSource: https://colorblindness-emulator.netlify.app/categories/tritanomaly",transMatrix:[[1.017277,.027029,-.044306],[-.006113,.958479,.047634],[.006379,.248708,.744913]],useMap:!1,mapColor:null}),achromatopsia:Object.freeze({description:"Achromatopsia, also known as Rod monochromacy, is a medical syndrome that exhibits symptoms relating to five conditions, most notably monochromacy.\nSource: https://en.wikipedia.org/wiki/Achromatopsia",transMatrix:[[.2126,.7152,.0722],[.2126,.7152,.0722],[.2126,.7152,.0722]],useMap:!1,mapColor:null}),grayscale:Object.freeze({description:"Grayscale images, a kind of black-and-white or gray monochrome, are composed exclusively of shades of gray. The contrast ranges from black at the weakest intensity to white at the strongest.\nSource: https://en.wikipedia.org/wiki/Grayscale",transMatrix:[[.2126,.7152,.0722],[.2126,.7152,.0722],[.2126,.7152,.0722]],useMap:!1,mapColor:null}),sepia:Object.freeze({description:"Sepia is a reddish-brown color, named after the rich brown pigment derived from the ink sac of the common cuttlefish Sepia. The word sepia is the Latinized form of the Greek σηπία, sēpía, cuttlefish.\nSource: https://en.wikipedia.org/wiki/Sepia_(color)",transMatrix:[[.393,.769,.189],[.349,.686,.168],[.272,.534,.131]],useMap:!1,mapColor:null}),sepiaClamp:Object.freeze({description:'Sepia is a reddish-brown color, named after the rich brown pigment derived from the ink sac of the common cuttlefish Sepia. The word sepia is the Latinized form of the Greek σηπία, sēpía, cuttlefish.\nSource: https://en.wikipedia.org/wiki/Sepia_(color) \nNote: The color transformation for sepiaClamp clamps values to stay within 0-255 range but the process is iterative and may led to delayed loading, use "sepia" for non clamped version.',transMatrix:null,useMap:!0,mapColor:function(e){let t=e[0],n=e[1],r=e[2];return e[0]=.393*t+.769*n+.189*r,e[1]=.349*t+.686*n+.168*r,e[2]=.272*t+.534*n+.131*r,e.map((e=>Math.max(0,Math.min(255,e))))}}),desaturate:Object.freeze({description:"Color desaturation refers to the process of reducing the intensity or vibrancy of colors in an image or artwork. It's commonly used in photography and graphic design to achieve a more muted, subdued, or grayscale appearance.\nSource of algorithm: https://stackoverflow.com/questions/13328029/how-to-desaturate-a-color \nNote: By default the transformation desaturate by 50%.",transMatrix:null,useMap:!0,mapColor:function(e){let t=.3*e[0]+.6*e[1]+.1*e[2];return e[0]=e[0]+.5*(t-e[0]),e[1]=e[1]+.5*(t-e[1]),e[2]=e[2]+.5*(t-e[2]),e}}),invert:Object.freeze({description:" Inverting RGB colors involves converting each channel's color value to its complement. For example, a pixel with RGB values (R, G, B) would be inverted to (255 - R, 255 - G, 255 - B), where 255 is the maximum intensity value in an 8-bit color channel. This process produces an image where each color is replaced by its opposite on the color wheel. For instance, red becomes cyan, green becomes magenta, and blue becomes yellow.",transMatrix:null,useMap:!0,mapColor:function(e){return e[0]=255-e[0],e[1]=255-e[1],e[2]=255-e[2],e}}),invertRed:Object.freeze({description:"Inverting the red color involves reversing the intensity values of the red channel in an image. Each pixel's red intensity value is subtracted from the maximum intensity value (usually 255 in an 8-bit system), resulting in a color shift where red tones become cyan or blue-green.",transMatrix:null,useMap:!0,mapColor:function(e){return e[0]=255-e[0],e}}),invertGreen:Object.freeze({description:"Inverting the green color means reversing the intensity values of the green channel in an image. Each pixel's green intensity value is subtracted from the maximum intensity value (255), causing green tones to shift towards magenta or purple.",transMatrix:null,useMap:!0,mapColor:function(e){return e[1]=255-e[1],e}}),invertBlue:Object.freeze({description:"Inverting the blue color entails reversing the intensity values of the blue channel in an image. Each pixel's blue intensity value is subtracted from the maximum intensity value (255), leading to a change where blue tones transform into yellow or orange-yellow hues.",transMatrix:null,useMap:!0,mapColor:function(e){return e[2]=255-e[2],e}}),channelShift:Object.freeze({description:'"Channel shift" refers to a technique used in image processing where the intensity values of color channels (such as red, green, and blue in RGB images) are altered to create visual effects or adjust color balance. It involves shifting the values of one or more channels relative to others, often to enhance or modify specific colors within an image without changing its overall composition.',transMatrix:null,useMap:!0,mapColor:function(e){let t=e[0];return e[0]=e[1],e[1]=e[2],e[2]=t,e}})});e.exports=t}},t={},function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(689);var e,t}));